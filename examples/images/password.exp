#!/usr/bin/expect -f
set timeout 10

proc type_slow {str} {
    foreach c [split $str ""] {
        send -- $c
        sleep 0.06
    }
}

log_user 0
spawn ruby examples/images/password_example.rb
log_user 1
sleep 0.4
type_slow "secret123"
sleep 0.8
send "\r"
expect eof
